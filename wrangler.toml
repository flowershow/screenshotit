name = "screenshotit"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[vars]
ENVIRONMENT = "development"

[[r2_buckets]]
binding = "SCREENSHOTS"
bucket_name = "screenshotit"
preview_bucket_name = "screenshotit-dev"

# Browser Rendering requires paid Workers plan
# For local dev, you may need to mock this or use production
[browser]
binding = "BROWSER"

[[d1_databases]]
binding = "screenshotit_analytics"
database_name = "screenshotit-analytics"
database_id = "ceffb5a4-6f72-43c0-8825-33be21f83609"
migrations_dir = "migrations"

[dev]
port = 8787
local_protocol = "http"
